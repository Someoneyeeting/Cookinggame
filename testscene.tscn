[gd_scene load_steps=13 format=4 uid="uid://b6xss2pyvosu0"]

[ext_resource type="PackedScene" uid="uid://c0lyfd8pu4t2a" path="res://customer_manager.tscn" id="1_jotil"]
[ext_resource type="PackedScene" uid="uid://6nbo85ja31eo" path="res://player.tscn" id="2_612pj"]
[ext_resource type="PackedScene" uid="uid://bfrxi0adyk11w" path="res://obst.tscn" id="3_612pj"]
[ext_resource type="Texture2D" uid="uid://ck3tnolnehjmd" path="res://assets/sprites/tileset.png" id="3_fy0p5"]
[ext_resource type="PackedScene" uid="uid://cts1uyl7lbf1g" path="res://podium.tscn" id="4_asog6"]
[ext_resource type="Resource" uid="uid://tt1jd2gvppb2" path="res://foods/live_chicken.tres" id="5_scc5w"]
[ext_resource type="PackedScene" uid="uid://dpi66gi61howo" path="res://oven.tscn" id="6_b56k5"]
[ext_resource type="Resource" uid="uid://c2tkft0bdjcie" path="res://foods/poison.tres" id="6_scc5w"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_j8njj"]
texture = ExtResource("3_fy0p5")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
1:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
2:0/0 = 0
3:0/0 = 0

[sub_resource type="TileSet" id="TileSet_gr5bc"]
tile_size = Vector2i(32, 32)
sources/6 = SubResource("TileSetAtlasSource_j8njj")

[sub_resource type="Shader" id="Shader_fy0p5"]
code = "shader_type canvas_item;

uniform sampler2D SCREEN_TEXTURE : hint_screen_texture, filter_linear_mipmap;

void vertex() {
	// Called for every vertex the material is visible on.
}

void fragment() {
	vec3 clr = texture(SCREEN_TEXTURE,SCREEN_UV).rgb;
	if(clr.b > 0.8){
		COLOR.a = (sin((UV.x + UV.y) * 10. + TIME * 10.) + 1.) * 0.15;
	}
	else{
		COLOR.a = 0.;
	}
}

//void light() {
//	// Called for every pixel for every light affecting the CanvasItem.
//	// Uncomment to replace the default light processing function with this one.
//}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_j8njj"]
shader = SubResource("Shader_fy0p5")

[node name="testscene" type="Node2D"]

[node name="obst" parent="." instance=ExtResource("3_612pj")]
visible = false
position = Vector2(186, 607)
scale = Vector2(3.95786, 12.5361)

[node name="obst3" parent="." instance=ExtResource("3_612pj")]
visible = false
position = Vector2(1227, 593)
scale = Vector2(3.95786, 12.5361)

[node name="obst2" parent="." instance=ExtResource("3_612pj")]
visible = false
position = Vector2(573, 477)
scale = Vector2(77.5498, -3.26479)

[node name="obst4" parent="." instance=ExtResource("3_612pj")]
visible = false
position = Vector2(633, 756)
scale = Vector2(57.5451, -3.26479)

[node name="Layer0" type="TileMapLayer" parent="."]
z_index = -55
use_parent_material = true
position = Vector2(-72, 81)
scale = Vector2(4.95883, 4.95883)
tile_map_data = PackedByteArray("AAAHAAMABgAAAAEAADAHAAIABgACAAAAAAAGAAIABgABAAAAAAAFAAIABgABAAAAAAAEAAIABgABAAAAAAADAAIABgABAAAAAAACAAMABgACAAEAAAADAAMABgACAAEAAAAEAAMABgACAAEAAAAFAAMABgACAAEAAAAGAAMABgABAAEAAAAGAAQABgABAAEAAAAFAAQABgACAAEAAAAEAAQABgACAAEAAAADAAQABgACAAEAAAACAAQABgACAAEAAAAHAAQABgAAAAEAADABAAMABgAAAAEAAAABAAQABgAAAAEAAAAAAAQABgADAAAAAAAAAAMABgADAAAAAAAAAAIABgADAAAAAAAAAAEABgADAAAAAAD//wIABgADAAAAAAD//wMABgADAAAAAAD//wQABgADAAAAAAD//wEABgADAAAAAAD//wAABgADAAAAAAAAAAAABgADAAAAAAABAAAABgADAAAAAAABAAEABgADAAAAAAACAAEABgADAAAAAAADAAEABgADAAAAAAAEAAEABgADAAAAAAAFAAEABgADAAAAAAAGAAEABgADAAAAAAAHAAEABgADAAAAAAAIAAEABgADAAAAAAAIAAIABgADAAAAAAAIAAMABgADAAAAAAAIAAQABgADAAAAAAAJAAQABgADAAAAAAAJAAMABgADAAAAAAAJAAIABgADAAAAAAAJAAEABgADAAAAAAAJAAAABgADAAAAAAAIAAAABgADAAAAAAAHAAAABgADAAAAAAAGAAAABgADAAAAAAAFAAAABgADAAAAAAAEAAAABgADAAAAAAADAAAABgADAAAAAAACAAAABgADAAAAAAABAP//BgADAAAAAAAAAP//BgADAAAAAAD/////BgADAAAAAAACAP//BgADAAAAAAADAP//BgADAAAAAAAEAP//BgADAAAAAAAFAP//BgADAAAAAAAGAP//BgADAAAAAAAHAP//BgADAAAAAAAIAP//BgADAAAAAAAJAP//BgADAAAAAAABAAIABgAAAAAAAAA=")
tile_set = SubResource("TileSet_gr5bc")

[node name="oven" parent="Layer0" instance=ExtResource("6_b56k5")]
position = Vector2(80.0592, 79.8576)
scale = Vector2(0.284267, 0.284267)

[node name="shine" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_j8njj")
offset_left = 159.0
offset_top = 458.0
offset_right = 1269.0
offset_bottom = 879.0

[node name="podium" parent="." instance=ExtResource("4_asog6")]
position = Vector2(566, 477)
scale = Vector2(1.31179, 1.31179)
item = ExtResource("5_scc5w")

[node name="podium2" parent="." instance=ExtResource("4_asog6")]
position = Vector2(971, 477)
scale = Vector2(1.31179, 1.31179)
item = ExtResource("6_scc5w")

[node name="podium3" parent="." instance=ExtResource("4_asog6")]
position = Vector2(783, 477)
scale = Vector2(1.31179, 1.31179)

[node name="podium4" parent="." instance=ExtResource("4_asog6")]
position = Vector2(125, 591)
scale = Vector2(1.31179, 1.31179)

[node name="Player" parent="." instance=ExtResource("2_612pj")]
position = Vector2(578, 604)
scale = Vector2(2.39159, 2.39159)

[node name="CustomerManager" parent="." instance=ExtResource("1_jotil")]

[node name="AudioListener2D" type="AudioListener2D" parent="."]
position = Vector2(665, 306)
current = true
